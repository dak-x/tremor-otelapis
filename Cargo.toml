[package]
name = "tremor-otelapis"
version = "0.1.0"
authors = ["The Tremor Team"]
description = "OpenTelemetry v1 API binding based on tonic/prost."
edition = "2018"
license = "Apache-2.0"
repository = "https://github.com/tremor-rs/tremor-otelapis"
documentation = "https://github.com/tremor-rs/otelapis"
categories = ["api-bindings", "open-telemetry", "cncf", "observability", "grpc", "protobuf", "tremor"]
keywords = ["opentelemetry", "api", "grpc", "protobuf", "tremor"]
readme = "README.md"
exclude = ["*.sh"]

[lib]
doctest = false

[package.metadata.docs.rs]
all-features = true

[features]

# Default - all
default = [ "otel-all" ]

# Generated from .proto definitions
opentelemetry-proto-collector-logs-v1 = []
opentelemetry-proto-collector-metrics-v1 = []
opentelemetry-proto-collector-trace-v1 = []
opentelemetry-proto-common-v1 = []
opentelemetry-proto-logs-v1 = []
opentelemetry-proto-metrics-experimental = []
opentelemetry-proto-metrics-v1 = []
opentelemetry-proto-resource-v1 = []
opentelemetry-proto-trace-v1 = []

# Convenience
otel-gen= [
    "opentelemetry-proto-resource-v1",
    "opentelemetry-proto-common-v1",
    "opentelemetry-proto-logs-v1",
    "opentelemetry-proto-collector-logs-v1",
    "opentelemetry-proto-metrics-v1",
    "opentelemetry-proto-metrics-experimental",
    "opentelemetry-proto-trace-v1",
    "opentelemetry-proto-collector-metrics-v1",
    "opentelemetry-proto-collector-trace-v1",
]

otel-all = [
    "otel-logs",
    "otel-metrics",
    "otel-trace",
    "opentelemetry-proto-resource-v1",
    "opentelemetry-proto-common-v1",
    "opentelemetry-proto-logs-v1",
    "opentelemetry-proto-collector-logs-v1",
    "opentelemetry-proto-metrics-v1",
    "opentelemetry-proto-metrics-experimental",
    "opentelemetry-proto-trace-v1",
    "opentelemetry-proto-collector-metrics-v1",
    "opentelemetry-proto-collector-trace-v1",
]

otel-logs = [
    "opentelemetry-proto-resource-v1",
    "opentelemetry-proto-common-v1",
    "opentelemetry-proto-logs-v1",
    "opentelemetry-proto-collector-logs-v1",
]

otel-metrics = [
    "opentelemetry-proto-resource-v1",
    "opentelemetry-proto-common-v1",
    "opentelemetry-proto-metrics-v1",
    "opentelemetry-proto-metrics-experimental",
    "opentelemetry-proto-collector-metrics-v1",
]

otel-trace = [
    "opentelemetry-proto-resource-v1",
    "opentelemetry-proto-common-v1",
    "opentelemetry-proto-trace-v1",
    "opentelemetry-proto-collector-trace-v1",
]

[dependencies]
tonic = { version = "0.4" }
prost = { version = "0.7" }
# prost-types = { version = "0.7" }
async-channel = "1"
